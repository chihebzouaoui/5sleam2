pipeline {
    agent any
    
    stages {
        stage('Checkout') {
            steps {
                // Checkout du dépôt Git
                checkout scm
            }
        }
        stage('Send Email') {
            steps {
                // Envoyer l'e-mail avec le contenu de README.txt
                emailext(
                    subject: "Nouveau commit dans le dépôt",
                    body: readFile('https://github.com/chihebzouaoui/5sleam2/blob/main/README.txt'),
                    recipientProviders: [[$class: 'CulpritsRecipientProvider']]
                )
            }
        }
    }
}
